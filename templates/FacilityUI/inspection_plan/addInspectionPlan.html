{% extends 'BaseUI/BaseFacility/baseInspectionPlan.html' %}
{% load staticfiles %}
{% load static %}
<!-------------- BLOCK MENU ---------------->
{% block listfaci %}{% url 'facilitiesDisplay' siteID %}{% endblock %}
{% block newfaci %}{% url 'facilitiesNew' siteID %}{% endblock %}
{% block design %}{% url 'designcodeDisplay' siteID %}{% endblock %}
{% block manu %}{% url 'manufactureDisplay' siteID %}{% endblock %}
{% block uploadInsp %}{% url 'upload' siteID %}{% endblock %}
{% block uploadPlant %}{% url 'uploadPlan' siteID %}{% endblock %}
{% block manageFile %}{% url 'manageFile' siteID %}{% endblock %}
{#{% block uploadScada %}{% url 'uploadScada' siteID %}{% endblock %}#}
{% block inspecPlan %}{% url 'inspectionPlan' siteID %}{% endblock %}
{% block rbitracking %}{% url 'rbitracking' %}{% endblock %}
{% block mitigationSite %}{% url 'mitigationSite' siteID%}{% endblock %}
{% block HelpSite %}{% url 'help' %}{% endblock %}
{% block forum %}{% url 'forum' %}{% endblock %}
{% block testSample %}{% url 'testsample' siteID%}{% endblock %}
{% block settingAccount %}{% url 'settingAccount' siteID %}{% endblock %}
{% block settingNotification %}{% url 'settingNotification' siteID %}{% endblock %}
{% block homedetail %}{% url 'homefacility' siteID%}{% endblock %}
<!----------------- END BLOCK----------------->
{% block data-content %}
<style>
div.a {
  white-space: nowrap;
  width: 90px;
  overflow: hidden;
  text-overflow: ellipsis;
}
div.a:hover {
  overflow: visible;
}
#searchs{
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 100%;
  font-size: 13px;
}
.city{
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 100%;
  font-size: 13px;
}
#search3{
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 100%;
  font-size: 13px;
}
#proposal
{
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 100%;
  font-size: 13px;
}
#search2{
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 100%;
  font-size: 13px;
}
#searchs td,#searchs th {
  border: 1px solid #ddd;
  padding: 0px;
  text-align: center;
}
.city td, .city th{
  border: 1px solid #ddd;
  padding: 0px;
  text-align: center;
}
#search2 th,#search2 td{
  border: 1px solid #ddd;
  padding: 0px;
  text-align: center;
}
#search3 th,#search3 td{
  border: 1px solid #ddd;
  padding: 0px;
  text-align: center;
}
#proposal th,#proposal td{
  border: 1px solid #ddd;
  padding: 0px;
  text-align: center;
}
#searchs tr:nth-child(even){background-color: #f2f2f2;}
.city tr:nth-child(even){background-color: white;}
#search2 tr:nth-child(even){background-color: #f2f2f2;}
#search3 tr:nth-child(even){background-color: #f2f2f2;}
#proposal tr:nth-child(even){background-color: #f2f2f2;}
#searchs tr:hover {background-color: #f2f2f2;}
.city tr:hover {background-color: #f2f2f2;}
#search2 tr:hover {background-color: #f2f2f2;}
#search3 tr:hover {background-color: #f2f2f2;}
#proposal tr:hover {background-color: #f2f2f2;}

#searchs th {
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: #305680;
  color: white;
}
.city th {
    padding: 5px 0;
  background-color: #305680;
  color: white;
  font-size: 12px;
}
.city td {
    padding: 3px 0;
    font-size: 12px;
}
#search2 th{
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: #305680;
  color: white;
  
}
#search3 th{
  padding-top: 10px;
  padding-bottom: 10px;
  background-color :#305680;
  color: white;
}
#proposal th{
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: #305680;
  color: white;
}

.containerflex {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: flex-start;
    align-items: flex-start;
    align-content: flex-start;

    padding: 2px;
    background: white;
    min-width: 1250px;
    height: 230px;
    margin: auto;
}

.flexitem {
    width: 530px;
    height: 220px;
    padding: 0px;
    background: #0AA6DB;
    margin: 1px;
    font-weight: bold;
}
.title-inscpection-plant {
    display: flex;
    justify-content: space-between;
    padding-right: 25px;
}
</style>
<form id="inspectionplan2" method="post" >
    {% csrf_token %}
    <!-- <a href="{% url 'inspectionPlan' siteID %}" title="Back" style="color:black; font-size:20px"><img src='/static/image/loading/back.png' style="padding-bottom: 6px;width:40px;"></a> -->
    <div class="title-verifitcation" >
        <h1>ADD INSPECTION PLAN</h1>
    </div>
    <div class="">
        <div class="title-inscpection-plant">
          <p class="color-white">Inspection Plan Name:&emsp;<b>{{name}}</b></p>
          <p class="color-white" style="text-align: right;">Inspection Plan Date:&emsp;<b>{{date}}</b></p>
        </div>
        <ul class="nav nav-pills">
            <li class="btn btn-primary active" data-toggle="pill" href="#menu0" style="margin-right: 10px;">Inspection Scope</li>
            <li class="btn btn-primary" data-toggle="pill" href="#menu1">Inspection Method</li>
            <span style="display: inline-block; color: red; margin: 8px 0 0 5px;">Select the Facility and Equipment for Inspection Plan.</span>
            <!--<li><a data-toggle="pill" style="padding-top: 10px;padding-bottom: 10px;background-color: #4CAF50;color: white;" href="#menu2">Damage Mechanism</a></li>-->
            <!--<li><a data-toggle="pill" style="padding-top: 10px;padding-bottom: 10px;background-color: #4CAF50;color: white;" href="#menu3">Inspection Findings/Description</a></li>-->
        </ul>

    <!-------------- Body ---------------->
        <div class="tab-content">
          <!-------------- Inspection Scope ---------------->
        <div id="menu0" class="tab-pane fade in active">
            <div class="">
                <div style="margin: 5px 0;">
                    <div class="form-inline">
                        <!--<div class="form-group">-->
                            <!--<caption><strong>Site Name: {{sitename}}</strong></caption>-->
                            <!--<a id="#search" class="btn btn-primary" data-toggle="modal" data-target="#searchPlan">-->
                                <!--{% if allSite %}-->
                                    <!--All-->
                                <!--{% else %}-->
                                    <!--{{siteT.sitename}}-->
                                <!--{% endif %}-->
                            <!--</a>-->
                        <!--</div>-->
                        <div class="form-group">
                            <span class="color-white" style="margin-right: 10px;">Facility Name:</span>
                            <a id="#searchFac" class="btn btn-primary" data-toggle="modal" data-target="#searchFacility">
                                {% if nameFaci %}
                                    {{nameFaci}}
                                {% else %}
                                    All
                                {% endif %}
                            </a>
                        </div>
                        <div class="form-group" style="margin-left: 15px;">
                            <span class="color-white" style="margin-right: 10px;">Equipment Name:</span>
                            <a id="#searchEquip" class="btn btn-primary" data-toggle="modal" data-target="#searchEquipment" >
                                {% if nameEquip %}
                                    {{nameEquip}}
                                {% else %}
                                    All
                                {% endif %}
                            </a>
                        </div>
                    <!-------------------------------------Search Facility------------------------------------------------->
                        <div class="modal" id="searchFacility" style="  margin-top: 10%">
                            <div class="modal-dialog modal-lg">
                            <div class="modal-content" style="width: 80%; margin: auto">

                            <!-- Modal Header -->
                            <div class="modal-header">
                            <span aria-hidden="true" style="font-size: 24px;font-weight: bold;color: #444444;font-family: Calibri;font-weight: bold;">List of the Faciltiy</span>
                            <button type="button" class="close" data-dismiss="modal" style="color: white">&times;</button>
                            </div>

                            <!-- Modal body -->
                            <div class="modal-body" style="width: 90%;margin: auto">
                                <table id="search2">
                                    <tr>
                                        <th width="100px" style="text-align: center"></th>
                                        <th>Facility Name</th>
                                        <th>Facility Date</th>
                                    </tr>
                                    {% for a in QueryFaci %}
                                    {% if nameFaci == a.facilityname %}
                                    <tr >
                                        <td align="center" style="background-color:yellow;"><input type="checkbox" id="checkbox" name="{{ a.facilityid }}" checked></td>
                                        <td align="center" style="background-color:yellow;">{{ a.facilityname }}</td>
                                        <td align="center" style="background-color:yellow;">{{ a.create }}</td>
                                    </tr>
                                    {% else %}
                                    <tr >
                                        <td align="center"><input type="checkbox" id="checkbox" name="{{ a.facilityid }}" style="background-color:red important!;"></td>
                                        <td align="center">{{ a.facilityname }}</td>
                                        <td align="center">{{ a.create }}</td>
                                    </tr>
                                    {% endif %}
                                    {% endfor %}
                                    {% if nameFaci %}
                                    <tr>
                                        <td align="center"><input id="checkbox" type="checkbox" name="AllFaci"></td>
                                        <td align="center">All</td>
                                        <td align="center">All</td>
                                    </tr>
                                    {% else %}
                                    <tr>
                                        <td align="center" style="background-color:yellow;"><input id="checkbox" type="checkbox" name="AllFaci" checked></td>
                                        <td align="center"style="background-color:yellow;">All</td>
                                        <td align="center" style="background-color:yellow;">All</td>
                                    </tr>
                                    {% endif %}
                                </table>
                            </div>

                                <!-- Modal footer -->
                                <div class="modal-footer" style="margin: auto; width: 90%">
                                    <!--<button name="_deleteFac" type="submit" class="btn btn-warning" onclick="Sub()" ><i class="fa fa-trash-o">&emsp;Delete Selected</i></button>-->
                                    <button name="_selectFac" onclick="Click();" id="_selectFac" class="btn btn-primary" type="submit"><i class="fa fa-pencil">Select</i></button>
                                    <button type="button" class="btn btn-success"  style="background-color: #4575B7; border: 1px solid #204d74" data-dismiss="modal">Close</button>
                                </div>
                                <script>
                                    $( document ).ready(function() {
                                      setTimeout(() => {
                                        var isDisabledBtn = 0;
                                        $(".btn btn-primary").each(function(){
                                        console.log(this.checked);
                                          if(this.checked) {
                                            isDisabledBtn = 1;
                                          }
                                        })
                                        if(isDisabledBtn == 1){
                                            $("#_selectFac").attr("disabled", false);
                                        } else {
                                            $("#_selectFac").attr("disabled", true);
                                        }
                                        // $("#checkboxAllNormal").prop("checked", false);
                                      }, 10);
                                    });
                                    $("input[id='checkbox']").change(function (e) {
                                        var isChecked = $(this).prop("checked");
                                        if (isChecked == false) {
                                            $("#_selectFac").attr("disabled", true);
                                        }
                                        else {
                                            $("#_selectFac").attr("disabled", false);
                                        }
                                    });
                                    $(document).ready(function() {
                                      $("input[type=checkbox]").prop("checked", false);
                                      $("input[type=checkbox]:first").prop("checked", true);

                                      $("input[type=checkbox]").click(function(event) {
                                        $("input[type=checkbox]").prop("checked", false);
                                        $(this).prop("checked", true);

                                        //event.preventDefault();
                                      });
                                    });
                                    window.onload = function() {
                                      document.querySelectorAll("INPUT[type='checkbox']").forEach(function(rd) {
                                        rd.addEventListener("mousedown", function() {
                                          if(this.checked) {
                                            this.onclick=function() {
                                              this.checked=false
                                            }
                                          } else {
                                            this.onclick=null
                                          }
                                        })
                                      })
                                    }
                                 </script>
                            </div>
                            </div>

                        </div>
                        <!---------------------------- Search Equipment------------------------------------>
                        <div class="modal" id="searchEquipment" style="margin-top: 10%">
                            <div class="modal-dialog modal-lg">
                            <div class="modal-content" style="width: 80%; margin: auto">

                            <!-- Modal Header -->
                            <div class="modal-header">
                            <span aria-hidden="true" style="font-size: 24px;font-weight: bold;color: #444444;font-family: Calibri;font-weight: bold;">List of the Equipment</span>
                            <button type="button" class="close" data-dismiss="modal" style="color: white">&times;</button>
                            </div>

                            <!-- Modal body -->
                            <div class="modal-body" style="width: 90%;margin: auto">
                                <table id="search3">
                                    <tr>
                                        <th width="100px" style="text-align: center"></th>
                                        <th>Equipment Name</th>
                                        <th>Equipment Date</th>
                                    </tr>
                                    {% for a in QueryEquip %}
                                    {% if nameEquip == a.equipmentname %}
                                    <tr >
                                        <td align="center" style="background-color:yellow;"><input type="checkbox" id="checkbox1" name="{{ a.equipmentid }}"></td>
                                        <td align="center" style="background-color:yellow;">{{ a.equipmentname }}gg</td>
                                        <td align="center" style="background-color:yellow;">{{ a.equipmentnumber }}</td>
                                    </tr>
                                    {% else %}
                                    <tr >
                                        <td align="center" ><input type="checkbox" id="checkbox1" name="{{ a.equipmentid }}"></td>
                                        <td align="center">{{ a.equipmentname }}</td>
                                        <td align="center">{{ a.equipmentnumber }}</td>
                                    </tr>
                                    {% endif %}
                                    {% endfor %}
                                </table>
                            </div>

                                <!-- Modal footer -->
                                <div class="modal-footer" style="margin: auto; width: 90%">
                                    <!--<button name="_deleteEquip" type="submit" class="btn btn-warning" id="sub" onclick="Sub()" ><i class="fa fa-trash-o">&emsp;Delete Selected</i></button>-->
                                    <button name="_selectEquip" id="_selectEquip" onclick="Click();" class="btn btn-primary" type="submit"><i class="fa fa-pencil">Select</i></button>
                                    <button type="button" class="btn btn-success"  style="background-color: #4575B7; border: 1px solid #204d74" data-dismiss="modal">Close</button>

                                </div>
                                <script>
                                $( document ).ready(function() {
                                  setTimeout(() => {
                                    var isDisabledBtn = 0;
                                    $(".btn btn-primary").each(function(){
                                    console.log(this.checked);
                                      if(this.checked) {
                                        isDisabledBtn = 1;
                                      }
                                    })
                                    if(isDisabledBtn == 1){
                                        $("#_selectEquip").attr("disabled", false);
                                    } else {
                                        $("#_selectEquip").attr("disabled", true);
                                    }
                                    // $("#checkboxAllNormal").prop("checked", false);
                                  }, 10);
                                });
                                $("input[id='checkbox1']").change(function (e) {
                                    var isChecked = $(this).prop("checked");
                                    if (isChecked == false) {
                                        $("#_selectEquip").attr("disabled", true);
                                    }
                                    else {
                                        $("#_selectEquip").attr("disabled", false);
                                    }
                                });
                                $(document).ready(function() {
                                  $("input[type=checkbox]").prop("checked", false);
                                  $("input[type=checkbox]:first").prop("checked", true);

                                  $("input[type=checkbox]").click(function(event) {
                                    $("input[type=checkbox]").prop("checked", false);
                                    $(this).prop("checked", true);

                                    //event.preventDefault();
                                  });
                                });
                                window.onload = function() {
                                  document.querySelectorAll("INPUT[type='checkbox']").forEach(function(rd) {
                                    rd.addEventListener("mousedown", function() {
                                      if(this.checked) {
                                        this.onclick=function() {
                                          this.checked=false
                                        }
                                      } else {
                                        this.onclick=null
                                      }
                                    })
                                  })
                                }
                            </script>
                            </div>
                            </div>

                        </div>
                    </div>
                </div>
                <!--------------------------- Proposal----------------------------->
                <div style="margin-top: 2px;">
                    <ul style="display: block;" class="nav nav-pills">
                        <li class="btn btn-primary active" data-toggle="pill" href="#process" style="margin-right: 10px;">Process Plant</li>
                        <li class="btn btn-primary" data-toggle="pill" href="#tank">Tank</li>
                    </ul>
                    <div class="tab-content" style="margin-top: 2px;">
                        <!---------------- Process Plant------------------>
                        <div id="process" class="tab-pane fade in active">
                            <div class="city" style="width: 98%; height: calc(100vh - 306px)">
                                <div>
                                    <div>
                                    <table id="testing">
                                        <thead>
                                        <tr>
                                          <!--<th style="background-color:#387BF9;font-size: 15px;font-family: 'Spartan', sans-serif; color:White" colspan="17"><input type = "button" name = "-" id="portests1" style="color:black;" value = "Proposal"></th>-->
                                          <th style="background-color:#DB812D;font-size: 15px;font-family: 'Spartan', sans-serif; color:White" colspan="17">Proposal</th>
                                          <!--<th style="background-color:#DB812D;font-size: 15px;font-family: 'Spartan', sans-serif; color:White" colspan="21">Equipment Properties</th>-->
                                          <!--<th style="background-color:#DB812D;font-size: 15px;font-family: 'Spartan', sans-serif; color:White" colspan="23">Component Properties</th>-->
                                          <!--<th style="background-color:#DB812D;font-size: 15px;font-family: 'Spartan', sans-serif; color:White" colspan="26">Stream /Process Flow</th>-->
                                          <!--<th style="background-color:#DB812D;font-size: 15px;font-family: 'Spartan', sans-serif; color:White" colspan="14">Material</th>-->
                                          <!--<th style="background-color:#DB812D;font-size: 15px;font-family: 'Spartan', sans-serif; color:White" colspan="14">Coating, Cladding,Lining and Insulation</th>-->
                                        </tr>
                                        <tr>
                                            <!------- Proposal-------->
                                          <th></th>
                                          <th >Equipment Number</th>
                                            <th>Conponent</th>
                                          <th>Conponent Number</th>
                                          <!--<th>Site</th>-->
                                          <th>Facility</th>
                                          <th>AP1</th>
                                          <th>AP2</th>
                                          <th>AP3</th>
                                          <th >RLI9(months)</th>
                                          <th>Assessment Name</th>
                                          <th>Assessment Date</th>
                                          <th>Commission Date</th>
                                          <th style="overflow: auto; white-space: nowrap;">Risk Analysis<br> Period</th>
                                          <th>Equipment Type</th>
                                          <th >Component Type</th>
                                          <th style="overflow: auto;white-space: nowrap;">Inspection Due<br>Date</th>
                                          <th>Design Code</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        {% for a in data %}
                                            <tr>
                                                <td><div class="a"><input class="check-normal" type="checkbox" id="checkbox" name="{{ a.ID }}"></div></td>
                                                <td><div class="a">{{a.EquipmentNumber}}</div></td>
                                                <td><div class="a">{{a.ConponentName}}</div></td>
                                                <td><div class="a">{{a.ConponentNumber}}</div></td>
                                                <!--<td><div class="a">{{a.Site}}</div></td>-->
                                                <td><div class="a">{{a.Facility}}</div></td>
                                                <td><div class="a">{{a.API1}}</div></td>
                                                <td><div class="a">{{a.API2}}</div></td>
                                                <td><div class="a">{{a.API3}}</div></td>
                                                <td><div class="a">{{a.RLI}}</div></td>
                                                <td><div class="a">{{a.AssessmentName}}</div></td>
                                                <td><div class="a">{{a.AssessmentDate}}</div></td>
                                                <td><div class="a">{{a.CommissionDate}}</div></td>
                                                <td><div class="a">{{a.RiskAnalysisPeriod}}</div></td>
                                                <td><div class="a">{{a.EquipmentType}}</div></td>
                                                <td><div class="a">{{a.ComponentType}}</div></td>
                                                <td><div class="a">{{a.InspectionDueDate}}</div></td>
                                                <td><div class="a">{{a.DesignCode}}</div></td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>
                                  </div>
                                </div>
                            </div>
                        </div>
                        <script>
                            $("#check-all-normal").change(function(){
                              if(this.checked){
                                $(".check-normal").each(function(){
                                  this.checked=true;
                                })              
                              }else{
                                $(".check-normal").each(function(){
                                  this.checked=false;
                                })              
                              }
                            });
  
                            $(".check-normal").click(function () {
                              if ($(this).is(":checked")){
                                var isAllChecked = 0;
                                $(".check-normal").each(function(){
                                  if(!this.checked)
                                    isAllChecked = 1;
                                })              
                                if(isAllChecked == 0){ $("#check-all-normal").prop("checked", true); }     
                              }else {
                                $("#check-all-normal").prop("checked", false);
                              }
                            });
                        </script>
                        <!---------------- Tank------------------>
                        <div id="tank" class="tab-pane fade">
                            <div class="city" style="width: 98%; height: calc(100vh - 306px)">
                                <div>
                                    <div class="table-responsive">
                                    <table id="#">
                                        <thead>
                                        <tr>
                                          <!--<th style="background-color:#387BF9;font-size: 15px;font-family: 'Spartan', sans-serif; color:White" colspan="17"><input type = "button" name = "-" id="portests1" style="color:black;" value = "Proposal"></th>-->
                                          <th style="background-color:#DB812D;font-size: 15px;font-family: 'Spartan', sans-serif; color:White" colspan="17">Proposal</th>
                                          <!--<th style="background-color:#DB812D;font-size: 15px;font-family: 'Spartan', sans-serif; color:White" colspan="21">Equipment Properties</th>-->
                                          <!--<th style="background-color:#DB812D;font-size: 15px;font-family: 'Spartan', sans-serif; color:White" colspan="23">Component Properties</th>-->
                                          <!--<th style="background-color:#DB812D;font-size: 15px;font-family: 'Spartan', sans-serif; color:White" colspan="26">Stream /Process Flow</th>-->
                                          <!--<th style="background-color:#DB812D;font-size: 15px;font-family: 'Spartan', sans-serif; color:White" colspan="14">Material</th>-->
                                          <!--<th style="background-color:#DB812D;font-size: 15px;font-family: 'Spartan', sans-serif; color:White" colspan="14">Coating, Cladding,Lining and Insulation</th>-->
                                        </tr>
                                        <tr>
                                          <th></th>
                                            <th >Equipment Number</th>
                                            <th>Conponent</th>
                                          <th>Conponent Number</th>
                                          <!--<th>Site</th>-->
                                          <th>Facility</th>
                                          <th>AP1</th>
                                          <th>AP2</th>
                                          <th>AP3</th>
                                          <th >RLI9(months)</th>
                                          <th>Assessment Name</th>
                                          <th>Assessment Date</th>
                                          <th>Commission Date</th>
                                          <th style="overflow: auto; white-space: nowrap;">Risk Analysis<br> Period</th>
                                          <th>Equipment Type</th>
                                          <th >Component Type</th>
                                          <th style="overflow: auto;white-space: nowrap;">Inspection Due<br>Date</th>
                                          <th>Design Code</th>
                                        </tr>
                                        <tbody>
                                            {% for b in dataTank %}
                                            <tr>
                                                <td><div class="a"><input class="check-tank" type="checkbox" id="checkbox" name="{{ b.ID }}"></div></td>
                                                <td><div class="a">{{b.EquipmentNumber}}</div></td>
                                                <td><div class="a">{{b.ConponentName}}</div></td>
                                                <td><div class="a">{{b.ConponentNumber}}</div></td>
                                                <!--<td><div class="a">{{b.Site}}</div></td>-->
                                                <td><div class="a">{{b.Facility}}</div></td>
                                                <td><div class="a">{{b.API1}}</div></td>
                                                <td><div class="a">{{b.API2}}</div></td>
                                                <td><div class="a">{{b.API3}}</div></td>
                                                <td><div class="a">{{b.RLI}}</div></td>
                                                <td><div class="a">{{b.AssessmentName}}</div></td>
                                                <td><div class="a">{{b.AssessmentDate}}</div></td>
                                                <td><div class="a">{{b.CommissionDate}}</div></td>
                                                <td><div class="a">{{b.RiskAnalysisPeriod}}</div></td>
                                                <td><div class="a">{{b.EquipmentType}}</div></td>
                                                <td><div class="a">{{b.ComponentType}}</div></td>
                                                <td><div class="a">{{b.InspectionDueDate}}</div></td>
                                                <td><div class="a">{{b.DesignCode}}</div></td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                        
                                        </thead>
                                    </table>
                                    <script>
                                        $("#check-all-tank").change(function(){
                                          if(this.checked){
                                            $(".check-tank").each(function(){
                                              this.checked=true;
                                            })
                                          }else{
                                            $(".check-tank").each(function(){
                                              this.checked=false;
                                            })
                                          }
                                        });

                                        $(".check-tank").click(function () {
                                          if ($(this).is(":checked")){
                                            var isAllChecked = 0;
                                            $(".check-tank").each(function(){
                                              if(!this.checked)
                                                isAllChecked = 1;
                                            })
                                            if(isAllChecked == 0){ $("#check-all-tank").prop("checked", true); }
                                          }else {
                                            $("#check-all-tank").prop("checked", false);
                                          }
                                        });
                                    </script>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

<!-------------- Inspection Method ---------------->
        <div id="menu1" class="tab-pane fade">
            <div class="city" style="margin-top: 5px;">
                <!--------------choose Inspection type ---------------->
                <!--<div class="container">-->
                    <div style="width: 98%;">
                    <h3 class="color-white">Inspection Technique</h3>
                    <div class="row" style="margin-bottom: 10px;">
                        <div class="col-md-6 color-white">Inspection Type:</div>
                        <div class="col-md-6">
                            <select name="InspectionType" class="form-control" required/>
                                <option value="" selected disabled>Please select inspection technique..</option>
                                <option>Intrusive</option>
                                <option>Non-Intrusive</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-1 color-white">Visual:</div>
                        <div class="col-md-2"><select name="Visual" class="form-control" required/>
                            <option value="" selected disabled>Please select inspection technique..</option>
                            <option>Endoscopy</option>
                            <option>Hydrotesting</option>
                            <option>Naked Eye</option>
                            <option>Video</option>
                            <option>Holiday</option>
                        </select></div>
                        <div class="col-md-2 color-white">Coverage, %:</div>
                        <div class="col-md-1"><input type="number" min=0 max=100 name="Cover1" class="form-control" name="Min" value="0" max="100" required/></div>
                        <div class="col-md-1 color-white">Magnetic:</div>
                        <div class="col-md-2"><select class="form-control" name="Magnetic">
                            <option value="" selected disabled>Please select inspection technique..</option>
                            <option>Magnetic Fluorescent Inspection</option>
                            <option>Magnetic Flux Leakage</option>
                            <option>Magnetic Particle Inspection</option>
                        </select></div>
                        <div class="col-md-2 color-white">Coverage, %:</div>
                        <div class="col-md-1"><input type="number" min=0 max=100 name="Cover2" class="form-control" name="Min" value="0" max="100" required/></div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-1 color-white">Penetrant:</div>
                        <div class="col-md-2"><select name="Penetrant" class="form-control">
                            <option value="" selected disabled>Please select inspection technique..</option>
                            <option>Liquid Penetrant Inspection</option>
                            <option>Liquid Penetrant Inspection</option>
                        </select></div>
                        <div class="col-md-2 color-white">Coverage, %:</div>
                        <div class="col-md-1"><input type="number" min=0 max=100 name="Cover3" class="form-control" name="Min" value="0" max="100" required/></div>
                        <div class="col-md-1 color-white">Radiography:</div>
                        <div class="col-md-2"><select class="form-control" name="Radiography">
                            <option value="" selected disabled>Please select inspection technique..</option>
                            <option>Compton Scatter</option>
                            <option>Gamma Radiography</option>
                            <option>Real-time Radiography</option>
                            <option>X-Radiography</option>
                        </select></div>
                        <div class="col-md-2 color-white">Coverage, %:</div>
                        <div class="col-md-1"><input type="number" min=0 max=100 name="Cover4" class="form-control" name="Min" value="0" max="100" required/></div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-1 color-white">Ultrasonic:</div>
                        <div class="col-md-2"><select name="Ultrasonic" class="form-control">
                            <option value="" selected disabled>Please select inspection technique..</option>
                            <option>Angled Compression Wave</option>
                            <option>Angled Shear Wave</option>
                            <option>A-scan Thickness Survey</option>
                            <option>B-scan</option>
                            <option>Chime</option>
                            <option>C-scan</option>
                            <option>Digital Ultrasonic Thickness Gauge</option>
                            <option>Lorus</option>
                            <option>Surface Waves</option>
                            <option>Teletest</option>
                            <option>TOFD</option>
                            <option>Advanced Ultrasonic Backscatter Technique</option>
                            <option>Internal Rotational Inspection System</option>
                        </select></div>
                        <div class="col-md-2 color-white">Coverage, %:</div>
                        <div class="col-md-1"><input type="number" min=0 max=100 name="Cover5" class="form-control" name="Min" value="0" max="100" required/></div>
                        <div class="col-md-1 color-white">Eddy Current:</div>
                        <div class="col-md-2"><select class="form-control" name="EddyCurrent">
                            <option value="" selected disabled>Please select inspection technique..</option>
                            <option>ACFM</option>
                            <option>Low frequency</option>
                            <option>Pulsed</option>
                            <option>Remote field</option>
                            <option>Standard (flat coil)</option>
                        </select></div>
                        <div class="col-md-2 color-white">Coverage, %:</div>
                        <div class="col-md-1"><input type="number" min=0 max=100 name="Cover6" class="form-control" name="Min" value="0" max="100" required/></div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-1 color-white">Thermography:</div>
                        <div class="col-md-2"><select name="Thermography" class="form-control">
                            <option value="" selected disabled>Please select inspection technique..</option>
                            <option>Passive Thermography</option>
                            <option>Transient Thermography</option>
                        </select></div>
                        <div class="col-md-2 color-white">Coverage, %:</div>
                        <div class="col-md-1"><input type="number" min=0 max=100 name="Cover7" class="form-control" name="Min" value="0" max="100" required/></div>
                        <div class="col-md-1 color-white">Acoustic Emission:</div>
                        <div class="col-md-2"><select class="form-control" name="AcousticEmission">
                            <option value="" selected disabled>Please select inspection technique..</option>
                            <option>Crack Detection</option>
                            <option>Leak Detection</option>
                        </select></div>
                        <div class="col-md-2 color-white">Coverage, %:</div>
                        <div class="col-md-1"><input type="number" min=0 max=100 name="Cover8" class="form-control" name="Min" value="0" max="100" required/></div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-1 color-white">Metallurgical:</div>
                        <div class="col-md-2"><select name="Metallurgical" class="form-control">
                            <option value="" selected disabled>Please select inspection technique..</option>
                            <option>Hardness Surveys</option>
                            <option>Microstructure Replication</option>
                        </select></div>
                        <div class="col-md-2 color-white">Coverage, %:</div>
                        <div class="col-md-1"><input type="number" min=0 max=100 name="Cover9" class="form-control" name="Min" value="0" max="100" required/></div>
                        <div class="col-md-1 color-white">Monitoring:</div>
                        <div class="col-md-2"><select class="form-control" name="Monitoring">
                            <option value="" selected disabled>Please select inspection technique..</option>
                            <option>On-line Monitoring</option>
                        </select></div>
                        <div class="col-md-2 color-white">Coverage, %:</div>
                        <div class="col-md-1"><input type="number" min=0 max=100 name="Cover10" class="form-control" name="Min" value="0" max="100" required/></div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-md-12" style="text-align: right;">
                            <!--<button type="submit" name="_ok" id="_ok" onclick="Click();" class="btn btn-primary" disabled><i class="fa fa-pencil mr-5"></i>Analysis</button>-->
                            <button type="submit" name="_ok" id="_ok"  class="btn btn-primary" disabled><i class="fa fa-pencil mr-5"></i>Analysis</button>
                        <button type="submit" name="_cancel" class="btn btn-default" id="cancel" onclick="Sub()">Cancel</button>
                        </div>
                    </div>

                     </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            $( document ).ready(function() {
                  setTimeout(() => {
                    var isDisabledBtn = 0;
                    $(".checkboxClass").each(function(){
                    console.log(this.checked);
                      if(this.checked) {
                        isDisabledBtn = 1;
                      }
                    })
                    if(isDisabledBtn == 1){
                        $("#_ok").attr("disabled", false);
                    } else {
                        $("#_ok").attr("disabled", true);
                    }
                  }, 10);
                });
                $("input[id='checkbox']").change(function (e) {
                    var isChecked = $(this).prop("checked");
                    if (isChecked == false) {
                        $("#_ok").attr("disabled", true);
                    }
                    else {
                        $("#_ok").attr("disabled", false);
                    }
                });
        </script>
        <script>
            /* Loop through all dropdown buttons to toggle between hiding and showing its dropdown content - This allows the user to have multiple dropdowns without any conflict */
            var dropdown = document.getElementsByClassName("dropdown-btn");
            var i;
            for (i = 0; i < dropdown.length; i++) {
              dropdown[i].addEventListener("click", function() {
              this.classList.toggle("active");
              var dropdownContent = this.nextElementSibling;
              if (dropdownContent.style.display === "block") {
              dropdownContent.style.display = "none";
              } else {
              dropdownContent.style.display = "block";
              }
              });
            }
            function Click() {
                ShowLoading();
                return false;
            }
            function ShowLoading() {
                var div = document.createElement('div');
                var img = document.createElement('img');
                img.src = '{% static 'image/loading/Pacman-1s-100px.gif' %}';
                div.style.cssText = "position: fixed;left: 50%; top: 30%; width: 300px; text-align: center; background: rgba(54, 25, 25, .00004); border: 0px solid #000;";
                div.appendChild(img);
                document.body.appendChild(div);
                return true;
            }
        </script>

</form>
{% endblock %}